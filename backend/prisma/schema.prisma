datasource db {
  provider = "postgresql"
  url = env("DATABASE_URL")
}

// generator
generator client {
  provider             = "prisma-client-py"
  recursive_type_depth = 5
}

model User {
  userID    Int     @id @default(autoincrement())
  email     String  @unique @db.VarChar(255)
  name      String  @db.VarChar(255)
  password  String  @db.VarChar(255)
  msg_group MessageGroup[]
}

model MessageGroup {
  groupID             Int     @id @default(autoincrement())
  pinecone_embeddings String    @db.VarChar(255)
  userID              Int
  user                User    @relation(fields: [userID], references: [userID])
  messages            Message[]
}

model Message {
  messageID      Int     @id @default(autoincrement())
  updated_at     DateTime   @default(now())
  created_by     Int
  content_message String    @db.VarChar(255)
  groupID        Int
  group          MessageGroup @relation(fields: [groupID], references: [groupID])
}